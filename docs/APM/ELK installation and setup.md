<span style="color:#4caf50;"><b>Created:</b> 2025-06-29</span> | <span style="color:#ff9800;"><b>Updated:</b> 2025-07-06</span> | <span style="color:#2196f3;"><b>Author:</b> Gouse Shaik</span>

### ELK running ports
```
kibana : port 5601
Elasticsearch: (port 9200)
```
# kibana configuration
Open the Kibana configuration file for editing.
```
sudo nano /etc/kibana/kibana.yml
```

Uncomment and adjust the following lines to bind Kibana to all IP addresses and connect it to Elasticsearch.
```
#server.port: 5601
server.host: "0.0.0.0"
elasticsearch.hosts: ["http://localhost:9200"]

$ sudo systemctl restart kibana
```

```
ubuntu@elk-vm:~$ sudo /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana
eyJ2ZXIiOiI4LjE0LjAiLCJhZHIiOlsiMTAuOTQuMjI2LjE0OTo5MjAwIl0sImZnciI6IjllMDM3M2VjMzBhMzFkYmE4ZDUzODdjNzc3ZjQ4ZTA4NWFkNDkxMzk0MTNiNWYzMDUwYTAyMGY4NjgyODRiMTkiLCJrZXkiOiJrVUY0dXBjQnk1eElqNS1OSzVvMjpRN0pTNWNOazA3TWJtMEdad0RjUkxRIn0=
```

## kibana token
```
ubuntu@elk-vm:~$ sudo /usr/share/kibana/bin/kibana-verification-code
Your verification code is:  080 708
```
### ‚úÖ Default Superuser Login (Elasticsearch / Kibana 8.x+)

When Elasticsearch was first started, it generated a **password** for the `elastic` user.
#### üìç To retrieve it (on the Elasticsearch VM):
```
# check the elasticsearch service
sudo systemctl status elasticsearch
sudo systemctl start elasticsearch --no-page

sudo cat /etc/elasticsearch/elasticsearch.keystore | grep elastic
But more reliably, if you missed the initial message, reset the password:
```

```bash
ubuntu@elk-vm:~$ sudo /usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic
This tool will reset the password of the [elastic] user to an autogenerated value.
The password will be printed in the console.
Please confirm that you would like to continue [y/N]y


Password for the [elastic] user successfully reset.
New value: ZQhiI9Ppr9Z8pTibJ7hJ
ubuntu@elk-vm:~$ sudo /usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic -i
This tool will reset the password of the [elastic] user.
You will be prompted to enter the password.
Please confirm that you would like to continue [y/N]y


Enter password for [elastic]:
Re-enter password for [elastic]:
Password for the [elastic] user successfully reset.
```

### Then login to Kibana with:

- **Username**: `elastic`  
- **Password**: the new password you just reset

Reset the `elastic` user password:
```
sudo /usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic
This will prompt you to enter a new password (or generate one for you).
```

Edit Elasticsearch config:
if you are not getting the json success output 
curl http://10.94.226.149:9200
then check and do the configurations for elasticsearch
```
sudo nano /etc/elasticsearch/elasticsearch.yml
network.host: 0.0.0.0
http.port: 9200
sudo systemctl restart elasticsearch

curl http://10.94.226.149:9200
```

Modify Elasticsearch configuration for remote access.

```
sudo nano /etc/elasticsearch/elasticsearch.yml

set the below values as 

network.host: 0.0.0.0
discovery.seed_hosts: []
```

For a basic setup (not recommended for production), disable security features.

```
xpack.security.enabled: false
```

```
sudo systemctl restart elasticsearch
```

```bash
ubuntu@elk-vm:~$ curl -X GET "localhost:9200"
{
  "name" : "elk-vm",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "t5b5MBJiTCS5E68E6Su5Ww",
  "version" : {
    "number" : "8.18.3",
    "build_flavor" : "default",
    "build_type" : "deb",
    "build_hash" : "28fc77664903e7de48ba5632e5d8bfeb5e3ed39c",
    "build_date" : "2025-06-18T22:08:41.171261054Z",
    "build_snapshot" : false,
    "lucene_version" : "9.12.1",
    "minimum_wire_compatibility_version" : "7.17.0",
    "minimum_index_compatibility_version" : "7.0.0"
  },
  "tagline" : "You Know, for Search"
}
```

```bash
ubuntu@elk-vm:~$ curl http://localhost:9200
{
  "name" : "elk-vm",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "t5b5MBJiTCS5E68E6Su5Ww",
  "version" : {
    "number" : "8.18.3",
    "build_flavor" : "default",
    "build_type" : "deb",
    "build_hash" : "28fc77664903e7de48ba5632e5d8bfeb5e3ed39c",
    "build_date" : "2025-06-18T22:08:41.171261054Z",
    "build_snapshot" : false,
    "lucene_version" : "9.12.1",
    "minimum_wire_compatibility_version" : "7.17.0",
    "minimum_index_compatibility_version" : "7.0.0"
  },
  "tagline" : "You Know, for Search"
}
```
