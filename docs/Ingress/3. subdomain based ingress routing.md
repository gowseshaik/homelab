Here's the corrected manifest file using subdomain routing, which will completely avoid the CSS/JS loading issues:**Key changes with subdomain routing:**

```
apiVersion: v1
kind: Namespace
metadata:
  name: todo-app
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: todo-green
  namespace: todo-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: todo-green
  template:
    metadata:
      labels:
        app: todo-green
    spec:
      containers:
        - name: todo
          image: gowseshaik/todo-app-green:1.0
          ports:
            - containerPort: 80
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: todo-blue
  namespace: todo-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: todo-blue
  template:
    metadata:
      labels:
        app: todo-blue
    spec:
      containers:
        - name: todo
          image: gowseshaik/todo-app-blue:1.0
          ports:
            - containerPort: 80
---
apiVersion: v1
kind: Service
metadata:
  name: todo-green
  namespace: todo-app
spec:
  selector:
    app: todo-green
  ports:
    - port: 80
      targetPort: 80
  type: ClusterIP
---
apiVersion: v1
kind: Service
metadata:
  name: todo-blue
  namespace: todo-app
spec:
  selector:
    app: todo-blue
  ports:
    - port: 80
      targetPort: 80
  type: ClusterIP
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: todo-green-ingress
  namespace: todo-app
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
spec:
  ingressClassName: traefik
  rules:
    - host: green.todoapp.localhost.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: todo-green
                port:
                  number: 80
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: todo-blue-ingress
  namespace: todo-app
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
spec:
  ingressClassName: traefik
  rules:
    - host: blue.todoapp.localhost.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: todo-blue
                port:
                  number: 80
---
# Optional: Main domain ingress that can redirect to one of the versions
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: todo-main-ingress
  namespace: todo-app
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
    traefik.ingress.kubernetes.io/router.middlewares: todo-app-redirect-to-green@kubernetescrd
spec:
  ingressClassName: traefik
  rules:
    - host: todoapp.localhost.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: todo-green
                port:
                  number: 80
---
# Optional: Redirect middleware for main domain
apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: redirect-to-green
  namespace: todo-app
spec:
  redirectRegex:
    regex: "^https?://todoapp.localhost.com/(.*)"
    replacement: "http://green.todoapp.localhost.com/${1}"
    permanent: false
```

1. **Green app**: Accessible at `green.todoapp.localhost.com`
2. **Blue app**: Accessible at `blue.todoapp.localhost.com`
3. **No path prefixes**: Each app serves from the root path `/`, so CSS/JS files load normally
4. **Optional main domain**: `todoapp.localhost.com` can redirect to one version or serve a landing page

**DNS Configuration Required:**

You'll need to configure DNS or your hosts file to point the subdomains to your Traefik ingress:

**For local development** (add to `/etc/hosts` on Linux/Mac or `C:\Windows\System32\drivers\etc\hosts` on Windows):

```
127.0.0.1 green.todoapp.localhost.com
127.0.0.1 blue.todoapp.localhost.com
127.0.0.1 todoapp.localhost.com
```

**For production**, configure your DNS provider to create A records:

- `green.todoapp.yourdomain.com` → Your load balancer IP
- `blue.todoapp.yourdomain.com` → Your load balancer IP

**Testing:**

```bash
# Test green version
curl http://green.todoapp.localhost.com

# Test blue version  
curl http://blue.todoapp.localhost.com

# Test main domain (should redirect to green)
curl http://todoapp.localhost.com
```

**Advantages of subdomain routing:**

- ✅ CSS/JS files load correctly (no path issues)
- ✅ Cleaner URLs
- ✅ Better for SEO if needed
- ✅ Easier to manage cookies and local storage per version
- ✅ No middleware complexity needed

This approach completely eliminates the static asset loading issues you were experiencing with path-based routing.